<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="description" content="MeshSoft - Profesyonel i≈ületme y√∂netim sistemi. Stok takibi, m√º≈üteri y√∂netimi, sevk i≈ülemleri ve raporlama √ß√∂z√ºmleri">
    <meta name="keywords" content="MeshSoft, i≈ületme y√∂netimi, stok takibi, m√º≈üteri y√∂netimi, sevk y√∂netimi, raporlama, bulut yazƒ±lƒ±m">
    <meta name="author" content="MeshSoft Solutions">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="MeshSoft">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1a1a1a">
    
    <title>MeshSoft - ƒ∞≈ületme Y√∂netim Sistemi</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/logos/meshsoftsiyah.png">
    <link rel="apple-touch-icon" href="assets/images/logos/meshsoftsiyah.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=103">
    <link rel="stylesheet" href="print.css" media="print">
</head>
<body>
    <div id="app">
        <!-- Loading State -->
        <div id="loading" class="loading-overlay">
            <div class="loading-content">
                <div class="loading-logo">
                    <img src="assets/images/logos/meshsoftsiyah.png" alt="MeshSoft" class="loading-logo-img">
                </div>
                <div class="meshsoft-loader">
                    <div class="mesh-grid">
                        <div class="mesh-dot"></div>
                        <div class="mesh-dot"></div>
                        <div class="mesh-dot"></div>
                        <div class="mesh-dot"></div>
                    </div>
                </div>
                <h3>MeshSoft</h3>
                <p>Sistem y√ºkleniyor...</p>
            </div>
        </div>

        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-brand">
                <div class="brand-container">
                    <img src="assets/images/logos/meshsoftsiyah.png" alt="MeshSoft" class="brand-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="brand-text" style="display: none;">
                        <div class="brand-icon">‚¨¢</div>
                        <h1>MeshSoft</h1>
                    </div>
                </div>
            </div>
            <div class="nav-menu">
                <a href="#dashboard" class="nav-link active" data-page="dashboard">
                    <span class="nav-icon">üìä</span>
                    Ana Sayfa
                </a>
                <a href="#customers" class="nav-link" data-page="customers">
                    <span class="nav-icon">üë•</span>
                    M√º≈üteriler
                </a>
                <a href="#inventory" class="nav-link" data-page="inventory">
                    <span class="nav-icon">üì¶</span>
                    Stok
                </a>
                <a href="#products" class="nav-link" data-page="products">
                    <span class="nav-icon">üßµ</span>
                    Kuma≈ülar
                </a>
                <a href="#shipments" class="nav-link" data-page="shipments">
                    <span class="nav-icon">üöõ</span>
                    Sevkler
                </a>
                <a href="#supplier-payments" class="nav-link" data-page="supplier-payments">
                    <span class="nav-icon">üí≥</span>
                    √ñdemeler
                </a>
                <a href="#reports" class="nav-link" data-page="reports">
                    <span class="nav-icon">üìà</span>
                    Raporlar
                </a>
                <a href="#settings" class="nav-link" data-page="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    Ayarlar
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <div class="dashboard-header">
                    <div class="dashboard-welcome">
                        <h1 class="dashboard-title">
                            <span class="welcome-text">Merhaba,</span>
                            <span class="brand-highlight">MeshSoft</span> ile i≈ületmenizi y√∂netin
                        </h1>
                        <p class="dashboard-subtitle">G√ºncel performans metrikleri ve i≈ületme durumu</p>
                    </div>
                    <div class="dashboard-meta">
                        <div class="dashboard-period">
                            <span class="period-icon">üìä</span>
                            Son 30 G√ºn
                        </div>
                    <div class="dashboard-actions">
                        <button class="btn btn-primary" onclick="showNewShipmentModal()">
                                <span class="icon">üöõ</span>
                                Yeni Sevkiyat
                            </button>
                            <button class="btn btn-secondary" onclick="location.href='#reports'">
                                <span class="icon">üìà</span>
                                Raporlar
                        </button>
                        </div>
                    </div>
                </div>

                <!-- KPI Overview Cards -->
                <div class="kpi-overview">
                    <div class="kpi-card exchange-rate-kpi">
                        <div class="kpi-header">
                            <div class="kpi-icon">üí±</div>
                            <div class="kpi-info">
                                <h3>G√ºncel D√∂viz Kuru</h3>
                                <div class="kpi-trend" id="exchange-trend">G√ºncel</div>
                            </div>
                        </div>
                        <div class="kpi-value">
                            <span class="main-value" id="current-exchange-rate">‚Ç∫0.00</span>
                        </div>
                        <div class="kpi-details">
                            <div class="detail-item">
                                <span class="detail-label">USD/TRY</span>
                                <span class="detail-value" id="usd-try-rate">‚Ç∫0.00</span>
                            </div>
                            <div class="detail-separator"></div>
                            <div class="detail-item">
                                <span class="detail-label">Son G√ºncelleme</span>
                                <span class="detail-value" id="exchange-update-time">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="kpi-card sales-kpi">
                        <div class="kpi-header">
                            <div class="kpi-icon">üìà</div>
                            <div class="kpi-info">
                                <h3>Satƒ±≈ülar</h3>
                                <div class="kpi-period">Son 30 G√ºn</div>
                            </div>
                        </div>
                        <div class="kpi-value">
                            <span class="main-value" id="last30-shipment-usd">$0</span>
                            </div>
                        <div class="kpi-details">
                            <div class="detail-item">
                                <span class="detail-label">Toplam Aƒüƒ±rlƒ±k</span>
                                <span class="detail-value" id="last30-shipment-kg">0 kg</span>
                            </div>
                            <div class="detail-separator"></div>
                            <div class="detail-item">
                                <span class="detail-label">Ortalama Fiyat</span>
                                <span class="detail-value" id="monthly-avg-price">$0/kg</span>
                            </div>
                        </div>
                    </div>

                    <div class="kpi-card inventory-kpi">
                        <div class="kpi-header">
                            <div class="kpi-icon">üì¶</div>
                            <div class="kpi-info">
                            <h3>Stok Durumu</h3>
                                <div class="kpi-status active">Aktif</div>
                            </div>
                        </div>
                        <div class="kpi-value">
                            <span class="main-value" id="total-stock-kg">0</span>
                            <span class="value-unit">kg</span>
                            </div>
                        <div class="kpi-details">
                            <div class="detail-item">
                                <span class="detail-label">Mevcut</span>
                                <span class="detail-value available" id="stock-available">0 kg</span>
                            </div>
                            <div class="detail-separator"></div>
                            <div class="detail-item">
                                <span class="detail-label">Kƒ±smi</span>
                                <span class="detail-value partial" id="stock-partial">0 kg</span>
                            </div>
                        </div>
                    </div>

                    <div class="kpi-card receivables-kpi">
                        <div class="kpi-header">
                            <div class="kpi-icon">üí≥</div>
                            <div class="kpi-info">
                            <h3>Alacaklar</h3>
                                <button class="kpi-action" onclick="location.href='#customers'">Detay ‚Üí</button>
                            </div>
                        </div>
                        <div class="kpi-value">
                            <span class="main-value" id="open-receivables">$0</span>
                        </div>
                        <div class="kpi-details">
                            <div class="detail-item">
                                <span class="detail-label">M√º≈üteri Sayƒ±sƒ±</span>
                                <span class="detail-value" id="receivables-count">0</span>
                            </div>
                            <div class="detail-separator"></div>
                            <div class="detail-item">
                                <span class="detail-label">Ortalama Bor√ß</span>
                                <span class="detail-value" id="avg-debt">$0</span>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="recent-activities">
                    <div class="card">
                        <div class="card-header">
                            <h3>Son Hareketler</h3>
                        </div>
                        <div class="card-content">
                            <div id="recent-activities-list" class="activities-list">
                                <!-- Recent activities will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Customers Page -->
            <div id="customers-page" class="page">
                <div class="page-header">
                    <h2>M√º≈üteriler</h2>
                    <div class="page-actions">
                        <button class="btn btn-primary" onclick="showNewCustomerModal()">
                            <span class="icon">+</span>
                            Yeni M√º≈üteri
                        </button>
                    </div>
                </div>
                
                <div class="search-filter-bar">
                    <input type="text" id="customer-search" placeholder="M√º≈üteri ara..." class="search-input">
                </div>
                
                <div class="table-container">
                    <table id="customers-table" class="data-table">
                        <thead>
                            <tr>
                                <th data-sort="name">M√º≈üteri Adƒ±</th>
                                <th data-sort="phone">Telefon</th>
                                <th data-sort="email">E-posta</th>
                                <th data-sort="balance">Bakiye (USD)</th>
                                <th>ƒ∞≈ülemler</th>
                            </tr>
                        </thead>
                        <tbody id="customers-table-body">
                            <!-- Customer rows will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Customer Detail Page -->
            <div id="customer-detail-page" class="page">
                <div class="page-header">
                    <button class="btn btn-secondary back-btn" onclick="showPage('customers')">
                        ‚Üê Geri
                    </button>
                    <h2 id="customer-detail-name">M√º≈üteri Detayƒ±</h2>
                    <div class="page-actions">
                        <button class="btn btn-primary" onclick="showNewShipmentModal(window.currentCustomerId)">
                            <span class="icon">+</span>
                            Yeni Sevk
                        </button>
                        <button class="btn btn-secondary" onclick="showNewPaymentModal(window.currentCustomerId)">
                            <span class="icon">$</span>
                            Tahsilat Ekle
                        </button>
                        <button class="btn btn-outline" onclick="printCustomerStatement()">
                            <span class="icon">üìÑ</span>
                            PDF Ekstre
                        </button>
                    </div>
                </div>

                <div class="customer-summary-cards">
                    <div class="card">
                        <div class="card-header">
                            <h3>Toplam Bakiye</h3>
                        </div>
                        <div class="card-content">
                            <div class="metric">
                                <span class="value" id="customer-total-balance">$0</span>
                                <span class="unit">USD</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>Son 30 G√ºn</h3>
                        </div>
                        <div class="card-content">
                            <div class="metric-row">
                                <span class="label">Sevk:</span>
                                <span id="customer-30d-kg">0 kg</span>
                            </div>
                            <div class="metric-row">
                                <span class="label">Toplam:</span>
                                <span id="customer-30d-usd">$0 USD</span>
                            </div>
                            <div class="metric-row">
                                <span class="label">Ort. Fiyat:</span>
                                <span id="customer-30d-avg">$0/kg</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="customer-tabs">
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="shipments">Sevkler</button>
                        <button class="tab-btn" data-tab="payments">Tahsilatlar</button>
                        <button class="tab-btn" data-tab="statement">Ekstre</button>
                    </div>

                    <div class="tab-content">
                        <div id="shipments-tab" class="tab-pane active">
                            <div class="tab-filters">
                                <select id="shipments-period-filter">
                                    <option value="7">Son 7 G√ºn</option>
                                    <option value="30" selected>Son 30 G√ºn</option>
                                    <option value="90">Son 90 G√ºn</option>
                                    <option value="all">T√ºm√º</option>
                                    <option value="custom">√ñzel Tarih</option>
                                </select>
                                <div id="custom-date-range" class="date-range hidden">
                                    <input type="date" id="shipments-start-date">
                                    <input type="date" id="shipments-end-date">
                                </div>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Tarih</th>
                                            <th>√úr√ºn</th>
                                            <th>Parti</th>
                                            <th>Kg</th>
                                            <th>Top Adedi</th>
                                            <th>Birim (USD)</th>
                                            <th>Toplam (USD)</th>
                                            <th class="vat-column" style="display: none;">KDV (TL)</th>
                                            <th class="try-column" style="display: none;">TL Kar≈üƒ±lƒ±ƒüƒ±</th>
                                            <th>KDV Dahil Genel Toplam (TL)</th>
                                            <th>ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="customer-shipments-table">
                                        <!-- Shipment rows will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="payments-tab" class="tab-pane">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Tarih</th>
                                            <th>Tutar (USD)</th>
                                            <th>Y√∂ntem</th>
                                            <th>Not</th>
                                            <th>ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="customer-payments-table">
                                        <!-- Payment rows will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="statement-tab" class="tab-pane">
                            <div class="tab-filters">
                                <select id="statement-period-filter">
                                    <option value="30">Son 30 G√ºn</option>
                                    <option value="90">Son 90 G√ºn</option>
                                    <option value="all">T√ºm√º</option>
                                    <option value="custom">√ñzel Tarih</option>
                                </select>
                                <div id="statement-custom-date-range" class="date-range hidden">
                                    <input type="date" id="statement-start-date">
                                    <input type="date" id="statement-end-date">
                                </div>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Tarih</th>
                                            <th>A√ßƒ±klama</th>
                                            <th>Bor√ß (USD)</th>
                                            <th>Alacak (USD)</th>
                                            <th>Bakiye (USD)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="customer-statement-table">
                                        <!-- Statement rows will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inventory Page -->
            <div id="inventory-page" class="page">
                <div class="page-header">
                    <h2>Stok (Partiler)</h2>
                    <div class="page-actions">
                        <button class="btn btn-primary" onclick="showNewLotModal()">
                            <span class="icon">+</span>
                            Yeni Parti
                        </button>
                        <button class="btn btn-secondary" onclick="exportInventoryCSV()">CSV Dƒ±≈üa Aktar</button>
                        <button class="btn btn-secondary" onclick="showImportCSVModal()">CSV ƒ∞√ße Aktar</button>
                        <button class="btn btn-secondary" onclick="printInventoryReport()">üìÑ Stok Raporu Yazdƒ±r</button>
                    </div>
                </div>
                
                <div class="search-filter-bar">
                    <input type="text" id="inventory-search" placeholder="Parti ara..." class="search-input">
                    <select id="inventory-product-filter" class="filter-select">
                        <option value="">T√ºm √úr√ºnler</option>
                    </select>
                    <select id="inventory-status-filter" class="filter-select">
                        <option value="">T√ºm Durumlar</option>
                        <option value="Stokta">Stokta</option>
                        <option value="Kƒ±smi">Kƒ±smi</option>
                        <option value="Bitti">Bitti</option>
                    </select>
                </div>
                
                <div class="table-container">
                    <table id="inventory-table" class="data-table">
                        <thead>
                            <tr>
                                <th data-sort="productName">Kuma≈ü</th>
                                <th data-sort="party">Parti</th>
                                <th data-sort="color">Renk</th>
                                <th data-sort="location">Konum</th>
                                <th data-sort="remainingKg">Kalan (kg)</th>
                                <th data-sort="status">Durum</th>
                                <th data-sort="date">Tarih</th>
                                <th>ƒ∞≈ülemler</th>
                            </tr>
                        </thead>
                        <tbody id="inventory-table-body">
                            <!-- Inventory rows will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Products Page -->
            <div id="products-page" class="page">
                <div class="page-header">
                    <h2>Kuma≈ülar</h2>
                    <div class="page-actions">
                        <button class="btn btn-primary" onclick="showNewProductModal()">
                            <span class="icon">+</span>
                            Yeni Kuma≈ü
                        </button>
                        <button class="btn btn-secondary" onclick="exportProductsCSV()">CSV Dƒ±≈üa Aktar</button>
                    </div>
                </div>
                
                <div class="search-filter-bar">
                    <input type="text" id="products-search" placeholder="Kuma≈ü ara..." class="search-input">
                    <select id="products-category-filter" class="filter-select">
                        <option value="">T√ºm Kategoriler</option>
                    </select>
                </div>
                
                <div class="table-container">
                    <table id="products-table" class="data-table">
                        <thead>
                            <tr>
                                <th data-sort="name">Kuma≈ü Adƒ±</th>
                                <th data-sort="category">Kategori</th>
                                <th data-sort="description">A√ßƒ±klama</th>
                                <th data-sort="createdAt">Olu≈üturulma</th>
                                <th>ƒ∞≈ülemler</th>
                            </tr>
                        </thead>
                        <tbody id="products-table-body">
                            <!-- Product rows will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Shipments Page -->
            <div id="shipments-page" class="page">
                <div class="page-header">
                    <h2>Sevkler</h2>
                    <div class="page-actions">
                        <button class="btn btn-primary" onclick="showNewShipmentModal()">
                            <span class="icon">+</span>
                            Yeni Sevk
                        </button>
                    </div>
                </div>
                
                <div class="search-filter-bar">
                    <input type="text" id="shipments-search" placeholder="Sevk ara..." class="search-input">
                    <select id="shipments-customer-filter" class="filter-select">
                        <option value="">T√ºm M√º≈üteriler</option>
                    </select>
                    <select id="shipments-period-filter" class="filter-select">
                        <option value="7">Son 7 G√ºn</option>
                        <option value="30">Son 30 G√ºn</option>
                        <option value="90">Son 90 G√ºn</option>
                        <option value="all">T√ºm Zamanlar</option>
                    </select>
                </div>
                
                <div class="table-container">
                    <table id="shipments-table" class="data-table">
                        <thead>
                            <tr>
                                <th data-sort="id">Sevk No</th>
                                <th data-sort="date">Tarih</th>
                                <th data-sort="customerName">M√º≈üteri</th>
                                <th data-sort="totalKg">Toplam Kg</th>
                                <th data-sort="totalUsd">Toplam USD</th>
                                <th data-sort="note">Not</th>
                                <th>ƒ∞≈ülemler</th>
                            </tr>
                        </thead>
                        <tbody id="shipments-table-body">
                            <!-- Shipment rows will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Tedarik√ßi √ñdemeleri -->
            <div id="supplier-payments-page" class="page">
                <div class="page-header">
                    <h2>üè≠ Tedarik√ßiler</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="showNewSupplierModal()">
                            <span class="icon">+</span>
                            Yeni Tedarik√ßi
                        </button>
                    </div>
                </div>

                <!-- Toplam Bor√ß √ñzeti -->
                <div class="simple-summary">
                    <div class="summary-row">
                        <div class="summary-item total">
                            <span class="label">Toplam Tedarik√ßi Borcu:</span>
                            <span class="amount" id="total-supplier-debt">$0.00</span>
                        </div>
                    </div>
                    
                    <!-- Para Birimi Toggle -->
                    <div class="currency-toggle-container">
                        <label class="toggle-label">
                            <input type="checkbox" id="currency-toggle" onchange="toggleCurrencyDisplay()">
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">TL G√∂r√ºnt√ºle</span>
                        </label>
                    </div>
                </div>

                <!-- Tedarik√ßiler Tablosu -->
                <div class="table-container">
                    <div class="table-header">
                        <h3>Tedarik√ßi Listesi</h3>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Tedarik√ßi Adƒ±</th>
                                <th>T√ºr</th>
                                <th>ƒ∞leti≈üim</th>
                                <th>Toplam Bor√ß</th>
                                <th>√ñdenen</th>
                                <th>Kalan Bor√ß</th>
                                <th>ƒ∞≈ülemler</th>
                            </tr>
                        </thead>
                        <tbody id="suppliers-table-body">
                            <!-- Tedarik√ßiler buraya y√ºklenecek -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Tedarik√ßi Detay Sayfasƒ± -->
            <div id="supplier-detail-page" class="page">
                <div class="page-header">
                    <div class="header-left">
                        <button class="btn btn-secondary" onclick="goBackToSuppliers()">
                            <span class="icon">‚Üê</span>
                            Geri
                        </button>
                        <h2 id="supplier-detail-title">Tedarik√ßi Detayƒ±</h2>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-info" onclick="showSupplierPriceListModal()">
                            <span class="icon">üí∞</span>
                            Fiyat Listesi
                        </button>
                        <button class="btn btn-primary" onclick="showNewSupplierPaymentModal()">
                            <span class="icon">$</span>
                            √ñdeme Yap
                        </button>
                        <button class="btn btn-secondary" onclick="showSupplierQuickReceiptModal()">
                            <span class="icon">üñ®Ô∏è</span>
                            Dekont Yazdƒ±r
                        </button>
                    </div>
                </div>

                <!-- Tedarik√ßi Bilgileri -->
                <div class="detail-summary">
                    <div class="detail-card">
                        <div class="detail-header">
                            <h3>Tedarik√ßi Bilgileri</h3>
                        </div>
                        <div class="detail-content">
                            <div class="detail-row">
                                <span class="label">Ad:</span>
                                <span class="value" id="supplier-detail-name">-</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">T√ºr:</span>
                                <span class="value" id="supplier-detail-type">-</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">ƒ∞leti≈üim:</span>
                                <span class="value" id="supplier-detail-contact">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <div class="detail-header">
                            <h3>Finansal √ñzet</h3>
                        </div>
                        <div class="detail-content">
                            <div class="detail-row">
                                <span class="label">Toplam Bor√ß:</span>
                                <span class="value" id="supplier-detail-total-debt">$0.00</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">√ñdenen:</span>
                                <span class="value" id="supplier-detail-paid">$0.00</span>
                            </div>
                            <div class="detail-row total">
                                <span class="label">Kalan Bor√ß:</span>
                                <span class="value" id="supplier-detail-outstanding">$0.00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- A√ßƒ±lƒ±≈ü ve Ba≈ülangƒ±√ß Ayarƒ± -->
                <div class="detail-card" style="margin-bottom:20px;">
                    <div class="detail-header">
                        <h3>A√ßƒ±lƒ±≈ü ve Ba≈ülangƒ±√ß Ayarlarƒ±</h3>
                    </div>
                    <div class="detail-content">
                        <div class="detail-row">
                            <span class="label">A√ßƒ±lƒ±≈ü Bakiyesi (TL):</span>
                            <input type="number" id="supplier-opening-balance" step="0.01" min="0" placeholder="0" style="max-width:200px;">
                        </div>
                        <div class="detail-row">
                            <span class="label">Ba≈ülangƒ±√ß Tarihi:</span>
                            <input type="date" id="supplier-accrual-start" style="max-width:200px;">
                        </div>
                        <div class="detail-row">
                            <button class="btn btn-primary" onclick="saveSupplierOpeningSettings()">Kaydet</button>
                        </div>
                    </div>
                </div>

                <!-- Ekstre Tablosu -->
                <div class="table-container">
                    <div class="table-header">
                        <h3>Ekstre</h3>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Tarih</th>
                                <th>A√ßƒ±klama</th>
                                <th>√úr√ºn</th>
                                <th>KG</th>
                                <th>Birim Fiyat</th>
                                <th>Bor√ß</th>
                                <th>√ñdeme</th>
                                <th>Bakiye</th>
                                <th>Makbuz</th>
                            </tr>
                        </thead>
                        <tbody id="supplier-extract-table-body">
                            <!-- Ekstre buraya y√ºklenecek -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Reports Page -->
            <div id="reports-page" class="page">
                <div class="page-header">
                    <h2>Raporlar</h2>
                </div>
                
                <div class="reports-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>M√º≈üteri Bazlƒ± Sevk Raporu</h3>
                        </div>
                        <div class="card-content">
                            <p>Son 30 g√ºnde m√º≈üterilere g√∂re sevk toplamlarƒ±</p>
                            <button class="btn btn-primary" onclick="generateCustomerShipmentReport()">
                                <span class="icon">üìä</span>
                                Rapor Olu≈ütur
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>√úr√ºn Bazlƒ± Sevk Raporu</h3>
                        </div>
                        <div class="card-content">
                            <p>√úr√ºnlere g√∂re sevk analizi</p>
                            <button class="btn btn-primary" onclick="generateProductShipmentReport()">
                                <span class="icon">üìä</span>
                                Rapor Olu≈ütur
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>Tahsilat Raporu</h3>
                        </div>
                        <div class="card-content">
                            <p>Tahsilat hareketleri ve y√∂ntemleri</p>
                            <button class="btn btn-primary" onclick="generatePaymentReport()">
                                <span class="icon">üìä</span>
                                Rapor Olu≈ütur
                            </button>
                        </div>
                    </div>
                </div>
                
                <div id="report-results" class="report-results hidden">
                    <div class="card">
                        <div class="card-header">
                            <h3 id="report-title">Rapor Sonu√ßlarƒ±</h3>
                            <button class="btn btn-secondary" onclick="exportReportCSV()">
                                <span class="icon">üì•</span>
                                CSV Dƒ±≈üa Aktar
                            </button>
                        </div>
                        <div class="card-content">
                            <div class="table-container">
                                <table id="report-table" class="data-table">
                                    <thead id="report-table-head">
                                        <!-- Report headers will be populated here -->
                                    </thead>
                                    <tbody id="report-table-body">
                                        <!-- Report data will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings-page" class="page">
                <div class="page-header">
                    <h2>Ayarlar</h2>
                </div>
                
                <div class="settings-sections">
                    <div class="card">
                        <div class="card-header">
                            <h3>Firma Bilgileri</h3>
                        </div>
                        <div class="card-content">
                            <form id="company-settings-form">
                                <div class="form-group">
                                    <label for="company-name">Firma Adƒ±</label>
                                    <input type="text" id="company-name" name="companyName" placeholder="Firma adƒ±nƒ±zƒ± girin">
                                </div>
                                <div class="form-group">
                                    <label for="company-address">Adres</label>
                                    <textarea id="company-address" name="companyAddress" placeholder="Firma adresinizi girin"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="company-phone">Telefon</label>
                                    <input type="text" id="company-phone" name="companyPhone" placeholder="Telefon numaranƒ±zƒ± girin">
                                </div>
                                                        <div class="form-group">
                            <label for="company-logo-text">Logo Metni</label>
                            <input type="text" id="company-logo-text" name="companyLogoText" placeholder="PDF'lerde g√∂r√ºnecek logo metni">
                        </div>
                        <div class="form-group">
                            <label for="company-logo">Logo Resmi</label>
                            <input type="file" id="company-logo" name="companyLogo" accept="image/*" onchange="handleLogoUpload(this)">
                            <small class="text-muted">PNG, JPG veya SVG formatƒ±nda logo y√ºkleyebilirsiniz</small>
                            <div id="logo-preview" class="logo-preview hidden">
                                <img id="logo-preview-img" alt="Logo √∂nizleme" style="max-width: 200px; max-height: 100px; border: 1px solid #ddd; border-radius: 4px; margin-top: 10px;">
                                <button type="button" class="btn btn-sm btn-danger" onclick="removeLogo()" style="margin-left: 10px;">Logoyu Kaldƒ±r</button>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <span class="icon">üíæ</span>
                            Kaydet
                        </button>
                            </form>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>Firebase Bulut Depolama</h3>
                        </div>
                        <div class="card-content">
                            <div class="firebase-status">
                                <p>Verilerinizi g√ºvenli bir ≈üekilde bulutta saklayƒ±n ve farklƒ± cihazlar arasƒ±nda senkronize edin.</p>
                                <div class="firebase-actions">
                                    <button class="btn btn-primary" onclick="showFirebaseConfigModal()">
                                        <span class="icon">‚òÅÔ∏è</span>
                                        Firebase Kurulumu
                                    </button>
                                    <button class="btn btn-success" onclick="syncData()">
                                        <span class="icon">üîÑ</span>
                                        Verileri Senkronize Et
                                    </button>
                                    <button class="btn btn-secondary" onclick="switchToLocal()">
                                        <span class="icon">üíæ</span>
                                        Yerel Veritabanƒ±na Ge√ß
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>Veri Y√∂netimi</h3>
                        </div>
                        <div class="card-content">
                            <div class="data-management-actions">
                                <button class="btn btn-secondary" onclick="loadTestData()">
                                    <span class="icon">üßµ</span>
                                    Kuma≈ü ƒ∞simleri Y√ºkle
                                </button>
                                <button class="btn btn-secondary" onclick="exportData()">
                                    <span class="icon">üì§</span>
                                    Veri Dƒ±≈üa Aktar (JSON)
                                </button>
                                <button class="btn btn-secondary" onclick="showImportDataModal()">
                                    <span class="icon">üì•</span>
                                    Veri ƒ∞√ße Aktar (JSON)
                                </button>
                                <button class="btn btn-danger" onclick="clearAllData()">
                                    <span class="icon">üóëÔ∏è</span>
                                    T√ºm Veriyi Temizle
                                </button>
                                <button class="btn btn-info" onclick="testFirebaseFeatures()">
                                    <span class="icon">üß™</span>
                                    Firebase Test Et
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container">
            <!-- Toast messages will be added here -->
        </div>
    </div>

    <!-- Modals will be added here by JavaScript -->
    <div id="modal-container"></div>

    <script src="js/utils.js?v=104"></script>
    <!-- Firebase Baƒülantƒ± Durumu -->
    <div id="connection-status" class="connection-status">
        <div class="status-indicator">
            <div class="status-dot disconnected"></div>
        </div>
    </div>

    <script src="js/database.js?v=104"></script>
    <script src="js/services.js?v=104"></script>
    <script src="js/modals.js?v=104"></script>
    <script src="js/pages.js?v=104"></script>
    <script src="js/firebase-setup.js?v=104"></script>
    <script src="js/app.js?v=104"></script>
    

</body>
</html>